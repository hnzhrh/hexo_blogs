{"title":"Obsidian + GitHub + Hexo 笔记博客工作流搭建","uid":"c18d4a7f49bbbec7af189adb0a1887b6","slug":"Obsidian_GitHub_Hexo_notes_blogs_workflow","date":"2023-05-29T16:41:00.000Z","updated":"2023-05-30T14:38:33.982Z","comments":true,"path":"api/articles/Obsidian_GitHub_Hexo_notes_blogs_workflow.json","keywords":null,"cover":null,"content":"<p>#tools</p>\n<h1 id=\"安装-Obsidian\"><a href=\"#安装-Obsidian\" class=\"headerlink\" title=\"安装 Obsidian\"></a>安装 Obsidian</h1><p>下载 <code>AppImage</code> 文件，<code>chmod</code> 加可执行权限后安装，在 <code>~/.bashrc </code> 中添加命令别名：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">obsidian</span><span class=\"token operator\">=~</span>/Downloads/Obsidian-1.2.8.AppImage<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>插件推荐：</p>\n<pre class=\"line-numbers language-text\" data-language=\"text\"><code class=\"language-text\">better-fn\ncm-editor-syntax-highlight-obsidian\ncmenu-plugin\ndataview\neasy-typing-obsidian\nhighlightr-plugin\nlink-favicon\nnumber-headings-obsidian\nobsidian-advanced-slides\nobsidian-auto-link-title\nobsidian-excalidraw-plugin\nobsidian-footnotes\nobsidian-image-auto-upload-plugin\nobsidian-kanban\nobsidian-minimal-settings\nobsidian-plantuml\nobsidian-style-settings\nobsidian-timeline\nquickadd\nremember-cursor-position\ntable-editor-obsidian\ntemplater-obsidian<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>笔记模板：</p>\n<pre class=\"line-numbers language-text\" data-language=\"text\"><code class=\"language-text\">---\ntitle: need to changed\ndate:  &lt;% tp.file.creation_date() %>\ntags:\n-  &lt;% tp.file.folder() %>\n- IT\ncategories:\n-  &lt;% tp.file.folder() %>\n---\n# &lt;% tp.file.folder() %><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"安装-Hexo\"><a href=\"#安装-Hexo\" class=\"headerlink\" title=\"安装 Hexo\"></a>安装 Hexo</h1><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-cli <span class=\"token parameter variable\">-g</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><code>Hexo</code> 工作流：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> ~/hexo_blog\n<span class=\"token builtin class-name\">cd</span> ~/hexo_blog\n\nhexo init <span class=\"token comment\">#初始化博客目录</span>\nhexo <span class=\"token function\">npm</span> <span class=\"token function\">install</span>\n\n<span class=\"token comment\"># cp Obsidian 笔记到Hexo博客中</span>\n<span class=\"token function\">cp</span> ./测试内容.md ~/hexo_blog/source/_posts/\n\nhexo g <span class=\"token comment\">#生成静态文件</span>\nhexo server <span class=\"token comment\">#本地调试，端口4000</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"安装-hexo-theme-aurora-主题\"><a href=\"#安装-hexo-theme-aurora-主题\" class=\"headerlink\" title=\"安装 hexo-theme-aurora 主题\"></a>安装 <code>hexo-theme-aurora</code> 主题</h1><p>根据官网进行配置，删除一些不需要的组件，有个坑就是评论模块，需要改下代码，配置静态资源压缩，尽量减少传输文件的大小。</p>\n<p>部署到阿里云 <code>OSS</code> 又发现了个坑，需要修改 <code>_config.yml</code> 中的 <code>permalink: /post/:title</code> ，不能有 <code>.html</code> 后缀。</p>\n<h1 id=\"同步到-Github-从仓库\"><a href=\"#同步到-Github-从仓库\" class=\"headerlink\" title=\"同步到 Github  从仓库\"></a>同步到 <code>Github</code>  从仓库</h1><p><code>GitHub</code> 建立仓库，把本地 <code>Hexo</code> 根目录整个推送上去，注意删掉 <code>.gitignore</code> 文件的内容。</p>\n<p>配置 <code>GitHub Action</code> 间参考资料，需要注意一个点，如果是上传了依赖包的，需要看下自己本地 <code>node</code> 版本，与 <code>Action</code> 脚本 <code>Node</code> 版本保持一致。</p>\n<h1 id=\"发布脚本\"><a href=\"#发布脚本\" class=\"headerlink\" title=\"发布脚本\"></a>发布脚本</h1><p>写了个脚本用来把 <code>Obsidian</code> 笔记复制到 <code>Hexo</code> 博客，并推送到 <code>GitHub</code>， <code>GitHub</code> 触发 <code>Action</code> 推送到阿里云 <code>OSS</code> 。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/sh</span>\n\n<span class=\"token assign-left variable\">file</span><span class=\"token operator\">=</span><span class=\"token variable\">$1</span>\n<span class=\"token assign-left variable\">new_file_name</span><span class=\"token operator\">=</span><span class=\"token variable\">$2</span>\n<span class=\"token assign-left variable\">hexo_posts_path</span><span class=\"token operator\">=</span>/home/erpang/hexo_blog/source/_posts\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"copy <span class=\"token variable\">$file</span> to Hexo workspace...\"</span>\n<span class=\"token function\">cp</span> <span class=\"token string\">\"<span class=\"token variable\">$file</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">$hexo_posts_path</span>/<span class=\"token variable\">$new_file_name</span>\"</span>\n\n<span class=\"token builtin class-name\">cd</span> /home/erpang/hexo_blog\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Git add...\"</span>\n<span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Git commit...\"</span>\n<span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"Posts update.\"</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Git push...\"</span>\n<span class=\"token function\">git</span> push\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>修改 <code>~/.bashrc</code> 添加别名：<code>alias deploy_blogs=&#39;sh ~/deploy_blogs.sh&#39;</code></p>\n<p>Demo：<code>deploy_blogs ./Obsidian\\ +\\ GitHub\\ +\\ Hexo\\ 笔记博客工作流搭建.md Obsidian_GitHub_Hexo_notes_blogs_workflow.md</code></p>\n<h1 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h1><ul>\n<li><a href=\"https://juejin.cn/post/6987568619739676708\">Github Actions自动部署hexo博客到阿里云OSS - 掘金</a></li>\n<li><a href=\"https://hexo.io/zh-cn/\">Hexo</a></li>\n<li><a href=\"https://obsidian.md/\">Obsidian</a></li>\n<li><a href=\"https://github.com/auroral-ui/hexo-theme-aurora\">GitHub - auroral-ui&#x2F;hexo-theme-aurora: 🏳️‍🌈 Futuristic auroral Hexo theme.</a></li>\n<li><a href=\"https://gongxuanzhang.github.io/post/aurora%E5%88%A0%E9%99%A4%E8%AF%84%E8%AE%BA%E4%BE%A7%E8%BE%B9%E6%A0%8F\">hexo Aurora 删除评论侧边栏 | 生生’s Blog</a></li>\n<li><a href=\"https://www.playpi.org/2018112101.html\">Hexo 博客静态资源压缩优化 | 虾丸派</a></li>\n</ul>\n","text":"#tools 安装 Obsidian下载 AppImage 文件，chmod 加可执行权限后安装，在 ~/.bashrc 中添加命令别名： alias obsidian=~/Downloads/Obsidian-1.2.8.AppImage 插件推荐： better-fn cm-...","link":"","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"tools","slug":"tools","count":1,"path":"api/categories/tools.json"}],"tags":[{"name":"tools","slug":"tools","count":1,"path":"api/tags/tools.json"},{"name":"IT","slug":"IT","count":1,"path":"api/tags/IT.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85-Obsidian\"><span class=\"toc-text\">安装 Obsidian</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85-Hexo\"><span class=\"toc-text\">安装 Hexo</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85-hexo-theme-aurora-%E4%B8%BB%E9%A2%98\"><span class=\"toc-text\">安装 hexo-theme-aurora 主题</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%90%8C%E6%AD%A5%E5%88%B0-Github-%E4%BB%8E%E4%BB%93%E5%BA%93\"><span class=\"toc-text\">同步到 Github  从仓库</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8F%91%E5%B8%83%E8%84%9A%E6%9C%AC\"><span class=\"toc-text\">发布脚本</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99\"><span class=\"toc-text\">参考资料</span></a></li></ol>","author":{"name":"erpang","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Just do IT!","socials":{"github":"https://github.com/hnzhrh","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{}}